const yod_var="yodpaste",yod_tooltip="Yod Paste Code",yod_title="YPC",yod_lang="yodlang",yod_lang_label="Classname",yod_lang_custom="yodcustomlang",yod_lang_custom_label="Custom Classname",yod_source="yodsource",yod_source_label="Source",yod_lang_no="No Language",yod_tag_wrap_open="",yod_tag_wrap_close="",yod_tag_open="[",yod_tag_close_slash="/",yod_tag_close="]",yod_tag_open_class=' class="',yod_tag_close_class='"',yod_tag_name="code";var langs=[],langs_def={text:yod_lang_no,value:""},langs_array=["bat","css","javascript","php","sh","sql"];tinymce.PluginManager.add(yod_var,function(h){h.addButton(yod_var,{text:yod_title,icon:"code",tooltip:yod_tooltip,onclick:c});h.addMenuItem(yod_var,{text:yod_tooltip,icon:"code",context:"insert",onclick:c});function f(j){return j.replace(/&/gm,"&amp;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;").replace(/"/gm,"&quot;").replace(/'/gm,"&#039;");}function g(j){return document.getElementById(j);}function b(k){var j,l="yod_textdump";if(!(j=g(l))){j=document.createElement("textarea");j.setAttribute("id",l);j.setAttribute("style","display:none");document.body.appendChild(j);}j.value=f(k);return j.value.replace(/(\r\n|\r|\n)/gmi,"<br>").split("\t").join("&nbsp;&nbsp;").split(" ").join("&nbsp;");}function d(j,l,k){localStorage.setItem(j,l.toString());return false;}function e(j,k){var l=localStorage.getItem(j);return l;}function a(k){var l="",j=b(k.data[yod_source]);l+=k.data[yod_lang]+" ";l+=k.data[yod_lang_custom]+" ";if(l=l.trim()){j=yod_tag_wrap_open+yod_tag_open+yod_tag_name+yod_tag_open_class+l+yod_tag_close_class+yod_tag_close+j+yod_tag_open+yod_tag_close_slash+yod_tag_name+yod_tag_close;+yod_tag_wrap_close;}h.focus();h.insertContent(j);h.selection.setCursorLocation();}function i(){h.windowManager.open({title:yod_tooltip,body:[{type:"listbox",id:yod_lang,name:yod_lang,label:yod_lang_label,values:langs,value:e(yod_lang,langs[0].value)},{type:"textbox",id:yod_lang_custom,name:yod_lang_custom,label:yod_lang_custom_label,value:e(yod_lang_custom),},{type:"textbox",id:yod_source,name:yod_source,label:yod_source_label,minWidth:320,minHeight:h.getParam("code_dialog_height",Math.min(tinymce.DOM.getViewPort().h-200,320)),flex:1,multiline:true}],onClose:function(){var j=g(yod_lang).textContent.trim().toLowerCase();j=j!=yod_lang_no.trim().toLowerCase()?j:"";d(yod_lang,j);d(yod_lang_custom,g(yod_lang_custom).value.trim());},onsubmit:a});}function c(){langs_array.sort();for(var k in langs_array){var j=langs_array[k].trim().toLowerCase();langs.push({text:j,value:j});}langs.unshift(langs_def);i();}});